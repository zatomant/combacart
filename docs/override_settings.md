## Індивідуальні налаштування сервера/маркетплейса ##

Для зручності можна створювати окремі файли для кожної групи налаштувань.

Як використовувати:

1. Створіть нову групу або візьміть потрібну групу налаштувань з /src/Config/marketplace.php
2. Помістіть зміни, згідно Правила оновлення налаштувань, в окремий файл (наприклад, для групи Marketplace в файл /assets/custom/Config/marketplace.php)

### Правила оновлення налаштувань ###

- Кількість файлів необмежена
- Файли обробляються по черзі, за алфавітним порядком
- Файли з підкресленням на початку назви ігноруються
- Кожен файл повертає масив інструкцій оновлення даних
- Масив не містить методів або анонімних функцій, використовуйте плейсхолдер '@_get(NAME)' для отримання значення всередині файлів налаштувань
- Для заміни елементу групи використовуйте макрос '_update' з переліком змін
- Для додавання елементу групи використовуйте макрос '_add'
- При поверненні асоціативного масиву без макросів буде виконано звичайне array_merge()
- Використовуйте '_match' пошуку елементів для макросів _add та _update.
- Для видалення елементу групи використовуйте макрос '_remove'
- Замість видалення (_delete) краще додайте до групм/елементу 'enabled' => false ("не використовувати").


Приклади:  
```
// оновити властивість 'enabled' = false для елемента Онлайн оплата (pt_online)
[
    '_match' => [
        'name' => 'pt_online'
    ],
    '_update' => [
        'enabled' => false,
    ]
],

// змінити label для Marketplace (вибір по uid )
[
    '_match' => [
        'uid' => '00000000-0001-0000-0000-000000000001'
    ],
    '_update' => [
        'label' => 'Тестовий маркетплейс (@_get(SERVER_NAME)'
    ]
],

// Деактивуємо елемент в pt (список Вид оплат) в Отримувачі коштів
[
    '_match' => [ // Шукаємо Payee по uid
        'uid' => '00000000-0003-0000-0000-0000000000011',
    ],
    '_update' => [
        'pt' => [
            [
                '_match' => [   // шукаємо pt по type
                    'type' => 'pt_online'
                ],
                '_update' => [
                    'enabled' => false
                ]
            ]
        ]
    ]
],

// Оновити label у елемента що має 'type' = 'email' та 'name' = '1'
[
    '_match' => [
        'type' => 'email',
        'name' => '1'
    ],
    '_update' => [
        'label' => 'Декларація 1'
    ]
],

// Прямме додавання елементу в Види оплат
[
    '_add' => [
        'Payment' => [
            [
                'name' => 'pt_bitcoin',
                'label' => 'Bitcoin'
            ]
        ]
    ]
],

// Приєднуємо новий тип оплати для Отримувача коштів (масив pt в Payee, пошук за uid)
[
    '_match' => [
        'uid' => '00000000-0003-0000-0000-000000000002', // Шукаємо конкретний uid
    ],
    '_add' => [
        'pt' => [
            [
                'type' => 'pt_bitcoint',
                'label' => 'Bitcoin (біток)',
                'provider' => 'Bitcoin'
            ]
        ]
    ]
],

// Видалити елемент з name pt_cashless з переліку Видів оплат
[
    '_delete' => [
        'Payment' => [
            [
                'name' => 'pt_cashless',
            ]
        ],
    ]
]
```